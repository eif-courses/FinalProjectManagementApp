<!-- templates/components/status_badges.html -->

{{define "topic-status-badge"}}
{{if eq . "draft"}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
    <i class="fas fa-edit mr-1"></i> {{$.T "topic_statuses.draft"}}
</span>
{{else if eq . "submitted"}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
    <i class="fas fa-clock mr-1"></i> {{$.T "topic_statuses.submitted"}}
</span>
{{else if eq . "approved"}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
    <i class="fas fa-check-circle mr-1"></i> {{$.T "topic_statuses.approved"}}
</span>
{{else if eq . "rejected"}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
    <i class="fas fa-times-circle mr-1"></i> {{$.T "topic_statuses.rejected"}}
</span>
{{else if eq . "revision"}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
    <i class="fas fa-exclamation-triangle mr-1"></i> {{$.T "topic_statuses.revision_needed"}}
</span>
{{end}}
{{end}}

{{define "report-status-badge"}}
{{if .IsSigned}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
    <i class="fas fa-file-signature mr-1"></i> {{$.T "report_fields.signed"}}
</span>
{{else if .HasReport}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
    <i class="fas fa-file-alt mr-1"></i> {{$.T "report_fields.draft"}}
</span>
{{else}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
    <i class="fas fa-file mr-1"></i> {{$.T "report_fields.not_started"}}
</span>
{{end}}
{{end}}

{{define "document-status-icons"}}
<div class="flex space-x-2">
    {{if .HasThesisDocument}}
    <span class="text-green-600" title="{{$.T "documents.thesis"}}">
    <i class="fas fa-file-pdf"></i>
    </span>
    {{else}}
    <span class="text-gray-400" title="{{$.T "documents.thesis"}}">
    <i class="fas fa-file-pdf"></i>
    </span>
    {{end}}

    {{if .HasPresentationVideo}}
    <span class="text-blue-600" title="{{$.T "videos.video_presentation"}}">
    <i class="fas fa-video"></i>
    </span>
    {{else}}
    <span class="text-gray-400" title="{{$.T "videos.video_presentation"}}">
    <i class="fas fa-video"></i>
    </span>
    {{end}}

    {{if .HasSourceCode}}
    <span class="text-purple-600" title="{{$.T "documents.code"}}">
    <i class="fas fa-file-code"></i>
    </span>
    {{else}}
    <span class="text-gray-400" title="{{$.T "documents.code"}}">
    <i class="fas fa-file-code"></i>
    </span>
    {{end}}

    {{if .HasRecommendation}}
    <span class="text-indigo-600" title="{{$.T "documents.recommendation"}}">
    <i class="fas fa-certificate"></i>
    </span>
    {{end}}
</div>
{{end}}

{{define "grade-badge"}}
{{if not .}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
    {{$.T "grades.not_graded"}}
</span>
{{else if ge . 9}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
    {{printf "%.1f" .}}
</span>
{{else if ge . 7}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
    {{printf "%.1f" .}}
</span>
{{else}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
    {{printf "%.1f" .}}
</span>
{{end}}
{{end}}

{{define "commission-access-status"}}
{{if not .IsActive}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
    <i class="fas fa-ban mr-1"></i> {{$.T "commission.inactive"}}
</span>
{{else if .IsExpired}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
    <i class="fas fa-clock mr-1"></i> {{$.T "commission.expired"}}
</span>
{{else if .IsAccessLimitReached}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
    <i class="fas fa-user-times mr-1"></i> {{$.T "commission.limit_reached"}}
</span>
{{else}}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
    <i class="fas fa-check-circle mr-1"></i> {{$.T "commission.active"}}
</span>
{{end}}
{{end}}

{{define "progress-bar"}}
<div class="w-full bg-gray-200 rounded-full h-2">
    <div class="bg-{{if ge .Percentage 100}}green{{else if ge .Percentage 75}}blue{{else if ge .Percentage 50}}yellow{{else if ge .Percentage 25}}orange{{else}}red{{end}}-600 h-2 rounded-full transition-all duration-300"
         style="width: {{.Percentage}}%"
         title="{{.Percentage}}%">
    </div>
</div>
{{end}}

{{define "completion-checklist"}}
<div class="space-y-1 text-sm">
    <div class="flex items-center {{if .TopicApproved}}text-green-600{{else}}text-gray-400{{end}}">
        <i class="fas {{if .TopicApproved}}fa-check-circle{{else}}fa-circle{{end}} mr-2"></i>
        {{$.T "checklist.topic_approved"}}
    </div>
    <div class="flex items-center {{if .HasThesisDocument}}text-green-600{{else}}text-gray-400{{end}}">
        <i class="fas {{if .HasThesisDocument}}fa-check-circle{{else}}fa-circle{{end}} mr-2"></i>
        {{$.T "checklist.thesis_uploaded"}}
    </div>
    <div class="flex items-center {{if .HasSupervisorReport}}text-green-600{{else}}text-gray-400{{end}}">
        <i class="fas {{if .HasSupervisorReport}}fa-check-circle{{else}}fa-circle{{end}} mr-2"></i>
        {{$.T "checklist.supervisor_report"}}
    </div>
    <div class="flex items-center {{if .HasReviewerReport}}text-green-600{{else}}text-gray-400{{end}}">
        <i class="fas {{if .HasReviewerReport}}fa-check-circle{{else}}fa-circle{{end}} mr-2"></i>
        {{$.T "checklist.reviewer_report"}}
    </div>
    <div class="flex items-center {{if .HasVideo}}text-green-600{{else}}text-gray-400{{end}}">
        <i class="fas {{if .HasVideo}}fa-check-circle{{else}}fa-circle{{end}} mr-2"></i>
        {{$.T "checklist.video_presentation"}}
    </div>
</div>
{{end}}