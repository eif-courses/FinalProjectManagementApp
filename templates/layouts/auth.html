<!-- templates/layouts/auth.html -->
{{define "auth"}}
<!DOCTYPE html>
<html lang="{{.Lang}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{block "title" .}}{{.Title}}{{end}} - VIKO</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        .bg-pattern {
            background-color: #f3f4f6;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%234f46e5' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
    </style>

    {{block "head" .}}{{end}}
</head>
<body class="bg-pattern min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
<div class="max-w-md w-full space-y-8">
    <!-- Logo and Title -->
    <div class="text-center">
        <img src="/static/images/viko-logo.png" alt="VIKO" class="h-20 mx-auto mb-4">
        <h2 class="text-3xl font-bold text-gray-900">{{.T "common.thesis_management_system"}}</h2>
        <p class="mt-2 text-sm text-gray-600">{{.T "institution.name"}}</p>
    </div>

    <!-- Content -->
    {{block "content" .}}{{end}}
</div>

<!-- Language Switcher -->
<div class="fixed bottom-4 right-4">
    <div class="relative" x-data="{ open: false }">
        <button @click="open = !open" class="flex items-center px-3 py-2 bg-white rounded-lg shadow-lg text-sm text-gray-700 hover:bg-gray-50">
            <i class="fas fa-globe mr-2"></i>
            {{if eq .Lang "lt"}}Lietuvių{{else}}English{{end}}
        </button>
        <div x-show="open" @click.away="open = false" x-cloak
             class="origin-bottom-right absolute bottom-full right-0 mb-2 w-32 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5">
            <a href="?lang=lt" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 {{if eq .Lang "lt"}}bg-gray-50{{end}}">Lietuvių</a>
            <a href="?lang=en" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 {{if eq .Lang "en"}}bg-gray-50{{end}}">English</a>
        </div>
    </div>
</div>

<!-- Alpine.js -->
<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</body>
</html>
{{end}}