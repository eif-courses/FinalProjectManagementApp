<!-- Documents Modal Content - templates/supervisor/documents_modal.html -->
<div class="flex justify-between items-center mb-6">
    <h3 class="text-2xl font-bold text-gray-900">{{.T "documents.title"}}</h3>
    <button onclick="closeDocumentsModal()" class="text-gray-400 hover:text-gray-600">
        <i class="fas fa-times text-xl"></i>
    </button>
</div>

<!-- Student Info -->
<div class="mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
    <div class="grid grid-cols-2 gap-4 text-sm">
        <div>
            <span class="font-semibold text-gray-700">{{.T "student_fields.student_name"}}:</span>
            <span class="text-gray-900">{{.Student.StudentName}} {{.Student.StudentLastname}}</span>
        </div>
        <div>
            <span class="font-semibold text-gray-700">{{.T "student_fields.student_group"}}:</span>
            <span class="text-gray-900">{{.Student.StudentGroup}}</span>
        </div>
    </div>
</div>

<!-- Documents List -->
<div class="space-y-4">
    <!-- Thesis Document -->
    <div class="border border-gray-200 rounded-lg p-4 {{if not .Documents.Thesis}}bg-gray-50{{end}}">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <div class="flex-shrink-0">
                    <i class="fas fa-file-pdf text-3xl {{if .Documents.Thesis}}text-red-600{{else}}text-gray-400{{end}}"></i>
                </div>
                <div class="ml-4">
                    <h4 class="text-sm font-medium text-gray-900">{{.T "documents.thesis"}}</h4>
                    {{if .Documents.Thesis}}
                    <p class="text-sm text-gray-500">
                        {{.T "documents.filename"}}: {{.Documents.Thesis.OriginalFilename}}<br>
                        {{.T "documents.file_size"}}: {{.Documents.Thesis.GetFileSizeFormatted}}<br>
                        {{.T "documents.upload_date"}}: {{.Documents.Thesis.UploadedDate.Format "2006-01-02 15:04"}}
                    </p>
                    {{else}}
                    <p class="text-sm text-gray-500">{{.T "documents.not_uploaded"}}</p>
                    {{end}}
                </div>
            </div>
            {{if .Documents.Thesis}}
            <div class="flex space-x-2">
                <a href="/documents/download/{{.Documents.Thesis.ID}}"
                   class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-download mr-1"></i> {{.T "documents.download"}}
                </a>
                <a href="/documents/view/{{.Documents.Thesis.ID}}"
                   target="_blank"
                   class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-eye mr-1"></i> {{.T "common.view"}}
                </a>
            </div>
            {{end}}
        </div>
    </div>

    <!-- Presentation Video -->
    <div class="border border-gray-200 rounded-lg p-4 {{if not .Documents.Video}}bg-gray-50{{end}}">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <div class="flex-shrink-0">
                    <i class="fas fa-video text-3xl {{if .Documents.Video}}text-blue-600{{else}}text-gray-400{{end}}"></i>
                </div>
                <div class="ml-4">
                    <h4 class="text-sm font-medium text-gray-900">{{.T "videos.video_presentation"}}</h4>
                    {{if .Documents.Video}}
                    <p class="text-sm text-gray-500">
                        {{.T "documents.filename"}}: {{.Documents.Video.Filename}}<br>
                        {{.T "videos.duration"}}: {{.Documents.Video.GetDurationFormatted}}<br>
                        {{.T "videos.status"}}:
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium
                                {{if eq .Documents.Video.Status "ready"}}bg-green-100 text-green-800{{end}}
                        {{if eq .Documents.Video.Status "processing"}}bg-yellow-100 text-yellow-800{{end}}
                        {{if eq .Documents.Video.Status "error"}}bg-red-100 text-red-800{{end}}">
                        {{.T (printf "videos.%s" .Documents.Video.Status)}}
                        </span><br>
                        {{.T "documents.upload_date"}}: {{.Documents.Video.CreatedAt.Format "2006-01-02 15:04"}}
                    </p>
                    {{else}}
                    <p class="text-sm text-gray-500">{{.T "documents.not_uploaded"}}</p>
                    {{end}}
                </div>
            </div>
            {{if and .Documents.Video .Documents.Video.IsReady}}
            <div class="flex space-x-2">
                <button onclick="playVideo('{{.Documents.Video.URL}}')"
                        class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-play mr-1"></i> {{.T "videos.watch_video"}}
                </button>
            </div>
            {{end}}
        </div>
    </div>

    <!-- Source Code -->
    <div class="border border-gray-200 rounded-lg p-4 {{if not .Documents.SourceCode}}bg-gray-50{{end}}">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <div class="flex-shrink-0">
                    <i class="fas fa-file-code text-3xl {{if .Documents.SourceCode}}text-purple-600{{else}}text-gray-400{{end}}"></i>
                </div>
                <div class="ml-4">
                    <h4 class="text-sm font-medium text-gray-900">{{.T "documents.code"}}</h4>
                    {{if .Documents.SourceCode}}
                    <p class="text-sm text-gray-500">
                        {{.T "documents.filename"}}: {{.Documents.SourceCode.OriginalFilename}}<br>
                        {{.T "documents.file_size"}}: {{.Documents.SourceCode.GetFileSizeFormatted}}<br>
                        {{.T "documents.upload_date"}}: {{.Documents.SourceCode.UploadedDate.Format "2006-01-02 15:04"}}
                    </p>
                    {{else}}
                    <p class="text-sm text-gray-500">{{.T "documents.not_uploaded"}}</p>
                    {{end}}
                </div>
            </div>
            {{if .Documents.SourceCode}}
            <div class="flex space-x-2">
                <a href="/documents/download/{{.Documents.SourceCode.ID}}"
                   class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-download mr-1"></i> {{.T "documents.download"}}
                </a>
            </div>
            {{end}}
        </div>
    </div>

    <!-- Company Recommendation -->
    <div class="border border-gray-200 rounded-lg p-4 {{if not .Documents.Recommendation}}bg-gray-50{{end}}">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <div class="flex-shrink-0">
                    <i class="fas fa-certificate text-3xl {{if .Documents.Recommendation}}text-indigo-600{{else}}text-gray-400{{end}}"></i>
                </div>
                <div class="ml-4">
                    <h4 class="text-sm font-medium text-gray-900">{{.T "documents.recommendation"}}</h4>
                    {{if .Documents.Recommendation}}
                    <p class="text-sm text-gray-500">
                        {{.T "documents.filename"}}: {{.Documents.Recommendation.OriginalFilename}}<br>
                        {{.T "documents.file_size"}}: {{.Documents.Recommendation.GetFileSizeFormatted}}<br>
                        {{.T "documents.upload_date"}}: {{.Documents.Recommendation.UploadedDate.Format "2006-01-02 15:04"}}
                    </p>
                    {{else}}
                    <p class="text-sm text-gray-500">{{.T "documents.optional_not_uploaded"}}</p>
                    {{end}}
                </div>
            </div>
            {{if .Documents.Recommendation}}
            <div class="flex space-x-2">
                <a href="/documents/download/{{.Documents.Recommendation.ID}}"
                   class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-download mr-1"></i> {{.T "documents.download"}}
                </a>
                <a href="/documents/view/{{.Documents.Recommendation.ID}}"
                   target="_blank"
                   class="inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                    <i class="fas fa-eye mr-1"></i> {{.T "common.view"}}
                </a>
            </div>
            {{end}}
        </div>
    </div>
</div>

<!-- Video Player Modal -->
<div id="videoPlayerModal" class="hidden fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center">
    <div class="relative max-w-4xl w-full mx-4">
        <button onclick="closeVideoPlayer()" class="absolute -top-10 right-0 text-white hover:text-gray-300">
            <i class="fas fa-times text-2xl"></i>
        </button>
        <video id="videoPlayer" controls class="w-full rounded-lg shadow-lg">
            Your browser does not support the video tag.
        </video>
    </div>
</div>

<script>
    function playVideo(url) {
        const modal = document.getElementById('videoPlayerModal');
        const player = document.getElementById('videoPlayer');
        player.src = url;
        modal.classList.remove('hidden');
        player.play();
    }

    function closeVideoPlayer() {
        const modal = document.getElementById('videoPlayerModal');
        const player = document.getElementById('videoPlayer');
        player.pause();
        player.src = '';
        modal.classList.add('hidden');
    }
</script>